(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{53:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(1),s=a(18),r=a.n(s),i=a(13),o=a(8),j=a(10),l=a(16),d=function(e,t){var a=t.type,n=t.id,c=t.payload,s=t.isAddToStart,r=t.isUpdatedStart;switch(a){case"ADD-ANSWER":var i=e.map((function(e){return e.id===n&&e.answers.push(c),e}));return Object(l.a)(i);case"ADD":return c?(null===e||void 0===e?void 0:e.find((function(e){return e.id===c.id})))?(console.error("Item already exists in the list!"),e):s?[c].concat(Object(l.a)(e)):[].concat(Object(l.a)(e),[c]):(console.error("payload is required!"),e);case"REMOVE":return 0===n||n?e.filter((function(e){return e.id!==n})):(console.error("id is required!"),e);case"EDITANS":var o=e.map((function(e){var t=e.answers.map((function(e){return e.id===c.id?(e.text=c.text,e):e}));return e.answers=Object(l.a)(t),e}));return Object(l.a)(o);case"EDIT":if(0!==n&&!n)return console.error("id is required!"),e;if(r){var j=e.filter((function(e){return e.id!==n}));return[c].concat(Object(l.a)(j))}return e.map((function(e){return e.id===n?(e.text=c.text,e):e}));default:return e}},u=Object(c.createContext)(),b=JSON.parse(localStorage.getItem("questions"))||[],O=function(e){var t=e.children,a=Object(c.useReducer)(d,b),s=Object(o.a)(a,2),r=s[0],i=s[1],l=Object(c.useState)(!1),O=Object(o.a)(l,2),x=O[0],m=O[1],h=Object(c.useState)(JSON.parse(localStorage.getItem("userType"))),p=Object(o.a)(h,2),f=p[0],g=p[1],y=Object(j.g)();Object(c.useEffect)((function(){localStorage.setItem("questions",JSON.stringify(r))}),[r]);var v={questions:r,questionsDispatch:i,answerModal:x,setAnswerModal:m,userType:f,setUserType:g,handleLogOut:function(){localStorage.removeItem("userType"),g(null),y.push("/")}};return Object(n.jsx)(u.Provider,{value:v,children:t})},x=a(14),m=a(54),h=a(55),p=a(56),f=a(57),g=a(58),y=a(59),v=a(60),N=a(61),S=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useContext)(u),j=r.userType,l=r.handleLogOut;return Object(n.jsx)("div",{children:Object(n.jsxs)(m.a,{expand:"md",color:"light",light:!0,children:[Object(n.jsx)(h.a,{tag:i.b,to:"/",className:"mr-auto",children:"Quiz"}),Object(n.jsx)(p.a,{onClick:function(){return s(!a)},className:"mr-2"}),Object(n.jsxs)(f.a,{isOpen:!a,navbar:!0,children:[Object(n.jsxs)(g.a,{className:"mr-auto ml-4",navbar:!0,children:[Object(n.jsx)(y.a,{children:Object(n.jsx)(v.a,{tag:i.b,to:"/questions",children:"Question"})}),Object(n.jsx)(y.a,{children:Object(n.jsx)(v.a,{tag:i.b,to:"/answers",children:"Answers"})})]}),j&&Object(n.jsx)(N.a,{color:"info",onClick:l,children:"Log out"})]})]})})},q=a(68),w=a(69),C=a(70),A=a(71),E=a(72),D=a(73),T=a(74),I=a(75),k=a(76),M=a(77),J=a(5),z=a.n(J),L=a(79),R=a(80),P=a(62),W=a(63),Q=a(64),U=a(65),V=a(66),B=a(67),F=function(e){var t=e.setModal,a=e.modal,s=e.questionId,r=Object(c.useState)(),i=Object(o.a)(r,2),j=i[0],l=i[1],d=Object(c.useContext)(u).questionsDispatch,b=function(){return t(!a)};return Object(n.jsx)(R.a,{isOpen:a,toggle:b,children:Object(n.jsxs)(P.a,{children:[Object(n.jsx)(W.a,{toggle:b,children:"Answer"}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(U.a,{for:"question",children:"Text Area"}),Object(n.jsx)(V.a,{type:"textarea",name:"question",id:"question",value:j,onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(N.a,{color:"primary",type:"submit",className:"mt-4",onClick:function(e){e.preventDefault();var a={id:Object(L.a)(),text:j};d({type:"ADD-ANSWER",id:s,payload:a}),l(""),t(!1)},children:"Save"}),Object(n.jsx)(N.a,{type:"submit",className:"mt-4",onClick:function(){t(!1)},children:"Cancel"})]})]})})},G=function(e){var t=e.setModal,a=e.modal,s=e.question,r=e.questionId,i=Object(c.useState)(""),j=Object(o.a)(i,2),l=j[0],d=j[1],b=Object(c.useContext)(u).questionsDispatch;Object(c.useEffect)((function(){a&&d(null===s||void 0===s?void 0:s.text)}),[a]);var O=function(){return t(!a)};return Object(n.jsx)(R.a,{isOpen:a,toggle:O,children:Object(n.jsxs)(P.a,{children:[Object(n.jsx)(W.a,{toggle:O,children:"Edit"}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(U.a,{for:"question",children:"Text Area"}),Object(n.jsx)(V.a,{type:"textarea",name:"question",id:"question",value:l,onChange:function(e){var t=e.target;return d(t.value)}})]}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(N.a,{color:"primary",type:"submit",className:"mt-4",onClick:function(e){e.preventDefault(),b({type:"EDIT",id:r,payload:{text:l}}),t(!1)},children:"Save"}),Object(n.jsx)(N.a,{type:"submit",className:"mt-4",onClick:function(){t(!1)},children:"Cancel"})]})]})})},H=function(e){var t=e.setModal,a=e.modal,s=e.answer,r=e.answerId,i=(e.questionId,Object(c.useState)("")),j=Object(o.a)(i,2),l=j[0],d=j[1],b=Object(c.useContext)(u).questionsDispatch;Object(c.useEffect)((function(){a&&d(null===s||void 0===s?void 0:s.text)}),[a]);var O=function(){return t(!a)};return Object(n.jsx)(R.a,{isOpen:a,toggle:O,children:Object(n.jsxs)(P.a,{children:[Object(n.jsx)(W.a,{toggle:O,children:"Edit Answer"}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(U.a,{for:"question",children:"Text Area"}),Object(n.jsx)(V.a,{type:"textarea",name:"question",id:"question",value:l,onChange:function(e){var t=e.target;return d(t.value)}})]}),Object(n.jsxs)(B.a,{children:[Object(n.jsx)(N.a,{color:"primary",type:"submit",className:"mt-4",onClick:function(e){e.preventDefault(),b({type:"EDITANS",payload:{id:r,text:l}}),t(!1)},children:"Save"}),Object(n.jsx)(N.a,{type:"submit",className:"mt-4",onClick:function(){t(!1)},children:"Cancel"})]})]})})},K=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(),i=Object(o.a)(r,2),j=i[0],l=i[1],d=Object(c.useState)(),b=Object(o.a)(d,2),O=b[0],x=b[1],m=Object(c.useState)(),h=Object(o.a)(m,2),p=h[0],f=h[1],g=Object(c.useState)(!1),y=Object(o.a)(g,2),v=y[0],S=y[1],J=Object(c.useState)(!1),L=Object(o.a)(J,2),R=L[0],P=L[1],W=Object(c.useContext)(u),Q=W.questions,U=W.answerModal,V=W.setAnswerModal,B=W.questionsDispatch,K=W.userType;return Object(n.jsx)(q.a,{children:Object(n.jsxs)(w.a,{className:"justify-content-center",children:[Object(n.jsxs)(C.a,{children:[Object(n.jsx)("h1",{className:"text-center my-5",children:"Give Answer"}),null===Q||void 0===Q?void 0:Q.map((function(e,t){return Object(n.jsxs)(A.a,{className:z()({"mt-4":t>0}),children:[Object(n.jsxs)(E.a,{className:"bg-light",children:[Object(n.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:700},className:"mb-1",children:e.text}),Object(n.jsx)("span",{className:"text-secondary",children:"Asked by "})," ",Object(n.jsx)("span",{className:"text-info",children:"Admin"})]}),Object(n.jsx)(D.a,{className:"d-flex justify-content-end bg-transparent border-top-0",children:"admin"===K?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N.a,{className:"ml-2",color:"danger",onClick:function(){B({type:"REMOVE",id:e.id,payload:e})},children:"Delete"}),Object(n.jsx)(N.a,{className:"ml-2",color:"danger",onClick:function(){S(!0),x(e),s(e.id)},children:"Edit"})]}):Object(n.jsx)(N.a,{color:"primary",onClick:function(){V(!0),s(e.id)},children:"Answer"})}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{className:"text-warning pl-3",children:"Top Answer"}),e.answers.length?Object(n.jsx)(T.a,{children:e.answers.map((function(e,t){return Object(n.jsxs)(I.a,{children:[Object(n.jsx)(k.a,{style:{fontSize:"1rem"},children:"Login user"}),Object(n.jsx)(M.a,{className:"mt-3",children:e.text}),"user"===K&&Object(n.jsx)(N.a,{className:"ml-2",color:"danger",onClick:function(){P(!0),f(e),l(e.id)},children:"Edit"})]},e.id)}))}):Object(n.jsx)("p",{className:"text-danger pl-3",children:"No ans given yet"})]},e.id)}))]}),Object(n.jsx)(F,{modal:U,setModal:V,questionId:a}),Object(n.jsx)(G,{modal:v,setModal:S,question:O,questionId:a}),Object(n.jsx)(H,{modal:R,setModal:P,answer:p,answerId:j})]})})},X=a(78),Y=[{path:"/questions",name:"questions",component:function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(),i=Object(o.a)(r,2),j=i[0],l=i[1],d=Object(c.useState)(),b=Object(o.a)(d,2),O=b[0],x=b[1],m=Object(c.useState)(!1),h=Object(o.a)(m,2),p=h[0],f=h[1],g=Object(c.useContext)(u),y=g.questionsDispatch,v=g.questions;return Object(n.jsxs)(q.a,{children:[Object(n.jsx)(w.a,{className:"justify-content-center mt-5",children:Object(n.jsxs)(C.a,{md:6,children:[Object(n.jsx)("h1",{className:"text-center",children:"Add Questions"}),Object(n.jsxs)(P.a,{children:[Object(n.jsx)(U.a,{for:"question",children:"Text Area"}),Object(n.jsx)(V.a,{type:"textarea",name:"question",id:"question",value:a,onChange:function(e){var t=e.target;return s(t.value)}}),Object(n.jsx)(N.a,{type:"submit",className:"mt-4",onClick:function(e){e.preventDefault();var t={id:Object(L.a)(),text:a,answers:[]};y({type:"ADD",payload:t}),s("")},children:"Save"})]})]})}),Object(n.jsxs)(w.a,{className:"justify-content-center mt-4",children:[Object(n.jsx)(C.a,{children:null===v||void 0===v?void 0:v.map((function(e,t){return Object(n.jsxs)(A.a,{className:z()({"mt-4":t>0}),children:[Object(n.jsxs)(E.a,{className:"bg-light",children:[Object(n.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:700},className:"mb-1",children:e.text}),Object(n.jsx)("span",{className:"text-secondary",children:"Asked by "})," ",Object(n.jsx)("span",{className:"text-info",children:"Admin"})]}),Object(n.jsxs)(D.a,{className:"d-flex justify-content-end bg-transparent border-top-0",children:[Object(n.jsx)(N.a,{className:"ml-2",color:"danger",onClick:function(){y({type:"REMOVE",id:e.id,payload:e})},children:"Delete"}),Object(n.jsx)(N.a,{className:"ml-2",color:"danger",onClick:function(){f(!0),x(e),l(e.id)},children:"Edit"})]})]},e.id)}))}),Object(n.jsx)(G,{modal:p,setModal:f,question:O,questionId:j})]})]})},meta:{access:["admin"]},exact:!0},{path:"/answers",name:"answers",component:K,meta:{access:["admin","user"]},exact:!0},{path:"/",name:"login",component:function(){var e=Object(c.useContext)(u),t=e.setUserType,a=e.userType,s=Object(c.useState)(""),r=Object(o.a)(s,2),i=r[0],l=r[1],d=Object(c.useState)(""),b=Object(o.a)(d,2),O=b[0],x=b[1],m=Object(j.g)();return a?Object(n.jsx)(j.a,{to:"admin"===a?"/questions":"/answers"}):Object(n.jsx)("div",{children:Object(n.jsxs)(q.a,{children:[Object(n.jsx)("h3",{className:" mt-5 text-center",children:"Log in"}),Object(n.jsx)(w.a,{className:"justify-content-center mt-5",children:Object(n.jsx)(C.a,{md:6,children:Object(n.jsxs)(P.a,{onSubmit:function(){"admin@email.com"===i&&"admin"===O?(localStorage.setItem("userType",JSON.stringify("admin")),t(JSON.parse(localStorage.getItem("userType"))),m.push("/questions")):(localStorage.setItem("userType",JSON.stringify("user")),t(JSON.parse(localStorage.getItem("userType"))),m.push("/answers"))},children:[Object(n.jsxs)(X.a,{children:[Object(n.jsx)(U.a,{for:"exampleEmail",children:"Email"}),Object(n.jsx)(V.a,{type:"email",name:"email",id:"exampleEmail",placeholder:"with a placeholder",onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(n.jsxs)(X.a,{children:[Object(n.jsx)(U.a,{for:"examplePassword",children:"Password"}),Object(n.jsx)(V.a,{type:"password",name:"password",id:"examplePassword",placeholder:"password placeholder",onChange:function(e){var t=e.target;return x(t.value)}})]}),Object(n.jsx)(N.a,{type:"submit",children:"Login"})]})})})]})})}}],Z=a(31);function $(e){var t=e.component,a=e.meta,s=Object(Z.a)(e,["component","meta"]),r=Object(c.useContext)(u).userType;return Object(n.jsx)(j.b,Object(x.a)(Object(x.a)({},s),{},{render:function(e){return r&&a.access.includes(r)?Object(n.jsx)(t,Object(x.a)({},e)):Object(n.jsx)(j.a,{to:"/"})}}))}var _=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(S,{}),Object(n.jsx)(j.d,{children:Y.map((function(e){return e.meta?Object(c.createElement)($,Object(x.a)(Object(x.a)({},e),{},{key:e.name})):Object(c.createElement)(j.b,Object(x.a)(Object(x.a)({},e),{},{key:e.name}))}))})]})};r.a.render(Object(n.jsx)(i.a,{children:Object(n.jsx)(O,{children:Object(n.jsx)(_,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.297e9f68.chunk.js.map