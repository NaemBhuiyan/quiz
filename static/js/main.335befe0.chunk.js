(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{54:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s(1),c=s(20),r=s.n(c),i=s(14),o=s(7),j=s(10),l=s(19),u=function(e,t){var s=t.type,a=t.id,n=t.payload,c=t.isAddToStart,r=t.isUpdatedStart;switch(s){case"ADD-ANSWER":var i=e.map((function(e){return e.id===a&&e.answers.push(n),e}));return Object(l.a)(i);case"ADD":return n?(null===e||void 0===e?void 0:e.find((function(e){return e.id===n.id})))?(console.error("Item already exists in the list!"),e):c?[n].concat(Object(l.a)(e)):[].concat(Object(l.a)(e),[n]):(console.error("payload is required!"),e);case"REMOVE":return 0===a||a?e.filter((function(e){return e.id!==a})):(console.error("id is required!"),e);case"EDITANS":var o=e.map((function(e){var t=e.answers.map((function(e){return e.id===n.id?(e.text=n.text,e):e}));return e.answers=Object(l.a)(t),e}));return Object(l.a)(o);case"EDIT":if(0!==a&&!a)return console.error("id is required!"),e;if(r){var j=e.filter((function(e){return e.id!==a}));return[n].concat(Object(l.a)(j))}return e.map((function(e){return e.id===a?(e.text=n.text,e):e}));default:return e}},d=Object(n.createContext)(),b=JSON.parse(localStorage.getItem("questions"))||[],O=function(e){var t=e.children,s=Object(n.useReducer)(u,b),c=Object(o.a)(s,2),r=c[0],i=c[1],l=Object(n.useState)(!1),O=Object(o.a)(l,2),m=O[0],x=O[1],h=Object(n.useState)(JSON.parse(localStorage.getItem("userType"))),p=Object(o.a)(h,2),f=p[0],g=p[1],y=Object(j.g)();Object(n.useEffect)((function(){localStorage.setItem("questions",JSON.stringify(r))}),[r]);var v={questions:r,questionsDispatch:i,answerModal:m,setAnswerModal:x,userType:f,setUserType:g,handleLogOut:function(){localStorage.removeItem("userType"),g(null),y.push("/")}};return Object(a.jsx)(d.Provider,{value:v,children:t})},m=s(15),x=s(58),h=s(59),p=s(60),f=s(61),g=s(62),y=s(63),v=s(64),N=s(65),S=s(55),q=s(56),w=s(57),C=function(e){var t=e.message,s=e.show,n=e.setShow;return Object(a.jsxs)(S.a,{isOpen:s,className:"fixed-bottom mb-4 ml-5",children:[Object(a.jsx)(q.a,{icon:"danger",toggle:function(){return n(!s)},children:"Notice"}),Object(a.jsx)(w.a,{children:t})]})},E=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)(!1),j=Object(o.a)(r,2),l=j[0],u=j[1],b=Object(n.useState)("You are not logged in"),O=Object(o.a)(b,2),m=O[0],S=O[1],q=Object(n.useContext)(d),w=q.userType,E=q.handleLogOut;return Object(a.jsxs)("div",{children:[Object(a.jsxs)(x.a,{expand:"md",color:"light",light:!0,children:[Object(a.jsx)(h.a,{tag:i.b,to:"/",className:"mr-auto",children:"Quiz"}),Object(a.jsx)(p.a,{onClick:function(){return c(!s)},className:"mr-2"}),Object(a.jsxs)(f.a,{isOpen:!s,navbar:!0,children:[Object(a.jsxs)(g.a,{className:"mr-auto ml-4",navbar:!0,children:[Object(a.jsx)(y.a,{onClick:function(){!w&&u(!0),"user"===w&&(S("You Have No Access"),u(!0))},children:Object(a.jsx)(v.a,{tag:i.b,to:"/questions",children:"Question"})}),Object(a.jsx)(y.a,{onClick:function(){return!w&&u(!0)},children:Object(a.jsx)(v.a,{tag:i.b,to:"/answers",children:"Answers"})})]}),w&&Object(a.jsx)(N.a,{color:"info",onClick:E,children:"Log out"})]})]}),Object(a.jsx)(C,{message:m,show:l,setShow:u})]})},A=s(72),T=s(73),D=s(74),k=s(75),I=s(76),M=s(77),J=s(78),Q=s(79),z=s(80),L=s(81),R=s(5),P=s.n(R),W=s(83),U=s(84),V=s(66),Y=s(67),B=s(68),F=s(69),G=s(70),H=s(71),K=function(e){var t=e.setModal,s=e.modal,c=e.questionId,r=Object(n.useState)(),i=Object(o.a)(r,2),j=i[0],l=i[1],u=Object(n.useContext)(d).questionsDispatch,b=function(){return t(!s)};return Object(a.jsx)(U.a,{isOpen:s,toggle:b,children:Object(a.jsxs)(V.a,{children:[Object(a.jsx)(Y.a,{toggle:b,children:"Answer"}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(F.a,{for:"question",children:"Text Area"}),Object(a.jsx)(G.a,{type:"textarea",name:"question",id:"question",value:j,onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(a.jsxs)(H.a,{children:[Object(a.jsx)(N.a,{color:"primary",type:"submit",className:"mt-4",onClick:function(e){e.preventDefault();var s={id:Object(W.a)(),text:j};u({type:"ADD-ANSWER",id:c,payload:s}),l(""),t(!1)},children:"Save"}),Object(a.jsx)(N.a,{type:"submit",className:"mt-4",onClick:function(){t(!1)},children:"Cancel"})]})]})})},X=function(e){var t=e.setModal,s=e.modal,c=e.question,r=e.questionId,i=Object(n.useState)(""),j=Object(o.a)(i,2),l=j[0],u=j[1],b=Object(n.useContext)(d).questionsDispatch;Object(n.useEffect)((function(){s&&u(null===c||void 0===c?void 0:c.text)}),[s]);var O=function(){return t(!s)};return Object(a.jsx)(U.a,{isOpen:s,toggle:O,children:Object(a.jsxs)(V.a,{children:[Object(a.jsx)(Y.a,{toggle:O,children:"Edit"}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(F.a,{for:"question",children:"Text Area"}),Object(a.jsx)(G.a,{type:"textarea",name:"question",id:"question",value:l,onChange:function(e){var t=e.target;return u(t.value)}})]}),Object(a.jsxs)(H.a,{children:[Object(a.jsx)(N.a,{color:"primary",type:"submit",className:"mt-4",onClick:function(e){e.preventDefault(),b({type:"EDIT",id:r,payload:{text:l}}),t(!1)},children:"Save"}),Object(a.jsx)(N.a,{type:"submit",className:"mt-4",onClick:function(){t(!1)},children:"Cancel"})]})]})})},Z=function(e){var t=e.setModal,s=e.modal,c=e.answer,r=e.answerId,i=Object(n.useState)(""),j=Object(o.a)(i,2),l=j[0],u=j[1],b=Object(n.useContext)(d).questionsDispatch;Object(n.useEffect)((function(){s&&u(null===c||void 0===c?void 0:c.text)}),[s]);var O=function(){return t(!s)};return Object(a.jsx)(U.a,{isOpen:s,toggle:O,children:Object(a.jsxs)(V.a,{children:[Object(a.jsx)(Y.a,{toggle:O,children:"Edit Answer"}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(F.a,{for:"question",children:"Text Area"}),Object(a.jsx)(G.a,{type:"textarea",name:"question",id:"question",value:l,onChange:function(e){var t=e.target;return u(t.value)}})]}),Object(a.jsxs)(H.a,{children:[Object(a.jsx)(N.a,{color:"primary",type:"submit",className:"mt-4",onClick:function(e){e.preventDefault(),b({type:"EDITANS",payload:{id:r,text:l}}),t(!1)},children:"Save"}),Object(a.jsx)(N.a,{type:"submit",className:"mt-4",onClick:function(){t(!1)},children:"Cancel"})]})]})})},$=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)(),i=Object(o.a)(r,2),j=i[0],l=i[1],u=Object(n.useState)(),b=Object(o.a)(u,2),O=b[0],m=b[1],x=Object(n.useState)(),h=Object(o.a)(x,2),p=h[0],f=h[1],g=Object(n.useState)(!1),y=Object(o.a)(g,2),v=y[0],S=y[1],q=Object(n.useState)(!1),w=Object(o.a)(q,2),C=w[0],E=w[1],R=Object(n.useContext)(d),W=R.questions,U=R.answerModal,V=R.setAnswerModal,Y=R.questionsDispatch,B=R.userType;return Object(a.jsxs)(A.a,{children:[Object(a.jsx)(T.a,{className:"justify-content-center",children:Object(a.jsxs)(D.a,{children:[Object(a.jsx)("h1",{className:"text-center my-5",children:"Give Answer"}),null===W||void 0===W?void 0:W.map((function(e,t){return Object(a.jsxs)(k.a,{className:P()({"mt-4":t>0}),children:[Object(a.jsxs)(I.a,{className:"bg-light",children:[Object(a.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:700},className:"mb-1",children:e.text}),Object(a.jsx)("span",{className:"text-secondary",children:"Asked by "})," ",Object(a.jsx)("span",{className:"text-info",children:"Admin"})]}),Object(a.jsx)(M.a,{className:"d-flex justify-content-end bg-transparent border-top-0",children:"admin"===B?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{className:"ml-2",color:"danger",onClick:function(){Y({type:"REMOVE",id:e.id,payload:e})},children:"Delete"}),Object(a.jsx)(N.a,{className:"ml-2",color:"primary",onClick:function(){S(!0),m(e),c(e.id)},children:"Edit"})]}):Object(a.jsx)(N.a,{color:"primary",onClick:function(){V(!0),c(e.id)},children:"Answer"})}),Object(a.jsx)("hr",{className:"my-0"}),Object(a.jsx)("p",{className:"text-warning pl-3",children:"Top Answer"}),e.answers.length?Object(a.jsx)(J.a,{children:e.answers.map((function(e){return Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(z.a,{style:{fontSize:"1rem"},children:"Login user"}),Object(a.jsx)(L.a,{className:"mt-3",children:e.text}),"user"===B&&Object(a.jsx)(N.a,{className:"ml-2",color:"danger",onClick:function(){E(!0),f(e),l(e.id)},children:"Edit"})]},e.id)}))}):Object(a.jsx)("p",{className:"text-danger pl-3",children:"No answer given yet"})]},e.id)}))]})}),Object(a.jsx)(K,{modal:U,setModal:V,questionId:s}),Object(a.jsx)(X,{modal:v,setModal:S,question:O,questionId:s}),Object(a.jsx)(Z,{modal:C,setModal:E,answer:p,answerId:j})]})},_=s(82),ee=function(e){var t=e.setQuestion,s=e.setQuestionId,c=e.setEditQuestionModal,r=Object(n.useContext)(d),i=r.questionsDispatch,o=r.questions;return Object(a.jsx)(T.a,{className:"justify-content-center mt-4",children:Object(a.jsx)(D.a,{children:null===o||void 0===o?void 0:o.map((function(e,n){return Object(a.jsxs)(k.a,{className:P()({"mt-4":n>0}),children:[Object(a.jsxs)(I.a,{className:"bg-light",children:[Object(a.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:700},className:"mb-1",children:e.text}),Object(a.jsx)("span",{className:"text-secondary",children:"Asked by "})," ",Object(a.jsx)("span",{className:"text-info",children:"Admin"})]}),Object(a.jsxs)(M.a,{className:"d-flex justify-content-end bg-transparent border-top-0",children:[Object(a.jsx)(N.a,{className:"ml-2",color:"danger",onClick:function(){i({type:"REMOVE",id:e.id,payload:e})},children:"Delete"}),Object(a.jsx)(N.a,{className:"ml-2",color:"primary",onClick:function(){c(!0),t(e),s(e.id)},children:"Edit"})]})]},e.id)}))})})},te=[{path:"/questions",name:"questions",component:function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),s=t[0],c=t[1],r=Object(n.useState)(),i=Object(o.a)(r,2),j=i[0],l=i[1],u=Object(n.useState)(),b=Object(o.a)(u,2),O=b[0],m=b[1],x=Object(n.useState)(!1),h=Object(o.a)(x,2),p=h[0],f=h[1],g=Object(n.useContext)(d),y=g.questionsDispatch,v=g.questions;return Object(a.jsxs)(A.a,{children:[Object(a.jsx)(T.a,{className:"justify-content-center mt-5",children:Object(a.jsxs)(D.a,{md:6,children:[Object(a.jsx)("h1",{className:"text-center",children:"Add Questions"}),Object(a.jsxs)(V.a,{children:[Object(a.jsx)(F.a,{for:"question",children:"Text Area"}),Object(a.jsx)(G.a,{type:"textarea",name:"question",id:"question",value:s,onChange:function(e){var t=e.target;return c(t.value)}}),Object(a.jsx)(N.a,{type:"submit",className:"mt-4",onClick:function(e){e.preventDefault();var t={id:Object(W.a)(),text:s,answers:[]};y({type:"ADD",payload:t}),c("")},children:"Save"})]})]})}),Object(a.jsx)(ee,{questions:v,setQuestion:m,setQuestionId:l,setEditQuestionModal:f}),Object(a.jsx)(X,{modal:p,setModal:f,question:O,questionId:j})]})},meta:{access:["admin"]},exact:!0},{path:"/answers",name:"answers",component:$,meta:{access:["admin","user"]},exact:!0},{path:"/",name:"login",component:function(){var e=Object(n.useContext)(d),t=e.setUserType,s=e.userType,c=Object(n.useState)(""),r=Object(o.a)(c,2),i=r[0],l=r[1],u=Object(n.useState)(""),b=Object(o.a)(u,2),O=b[0],m=b[1],x=Object(j.g)();return s?Object(a.jsx)(j.a,{to:"admin"===s?"/questions":"/answers"}):Object(a.jsx)("div",{children:Object(a.jsxs)(A.a,{children:[Object(a.jsx)("h3",{className:" mt-5 text-center",children:"Log in"}),Object(a.jsx)(T.a,{className:"justify-content-center mt-5",children:Object(a.jsx)(D.a,{md:6,children:Object(a.jsxs)(V.a,{onSubmit:function(){"admin@email.com"===i&&"admin"===O?(localStorage.setItem("userType",JSON.stringify("admin")),t(JSON.parse(localStorage.getItem("userType"))),x.push("/questions")):(localStorage.setItem("userType",JSON.stringify("user")),t(JSON.parse(localStorage.getItem("userType"))),x.push("/answers"))},children:[Object(a.jsxs)(_.a,{children:[Object(a.jsx)(F.a,{for:"exampleEmail",children:"Email"}),Object(a.jsx)(G.a,{type:"email",name:"email",id:"exampleEmail",placeholder:"Type your email",onChange:function(e){var t=e.target;return l(t.value)}})]}),Object(a.jsxs)(_.a,{children:[Object(a.jsx)(F.a,{for:"examplePassword",children:"Password"}),Object(a.jsx)(G.a,{type:"password",name:"password",id:"examplePassword",placeholder:"Type your password",onChange:function(e){var t=e.target;return m(t.value)}})]}),Object(a.jsx)(N.a,{type:"submit",children:"Login"})]})})})]})})}}],se=s(32);function ae(e){var t=e.component,s=e.meta,c=Object(se.a)(e,["component","meta"]),r=Object(n.useContext)(d).userType;return Object(a.jsx)(j.b,Object(m.a)(Object(m.a)({},c),{},{render:function(e){return r&&s.access.includes(r)?Object(a.jsx)(t,Object(m.a)({},e)):Object(a.jsx)(j.a,{to:"/"})}}))}var ne=function(){var e=Object(n.useContext)(d).userType,t=Object(n.useState)(!1),s=Object(o.a)(t,2),c=s[0],r=s[1];return Object(n.useEffect)((function(){e&&r(!0)}),[e]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(E,{}),Object(a.jsx)(j.d,{children:te.map((function(e){return e.meta?Object(n.createElement)(ae,Object(m.a)(Object(m.a)({},e),{},{key:e.name})):Object(n.createElement)(j.b,Object(m.a)(Object(m.a)({},e),{},{key:e.name}))}))}),Object(a.jsx)(C,{message:"You are logged in as ".concat(e),show:c,setShow:r})]})};r.a.render(Object(a.jsx)(i.a,{children:Object(a.jsx)(O,{children:Object(a.jsx)(ne,{})})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.335befe0.chunk.js.map